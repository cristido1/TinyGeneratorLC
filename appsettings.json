{
  "LlamaCpp": {
    "Root": "C:\\llama.cpp.13.1",
    "Models": "C:\\llama.cpp.13.1\\models",
    "ServerExe": "C:\\llama.cpp.13.1\\llama-server.exe",
    "Host": "127.0.0.1",
    "Port": 11436,
    "RestartPolicy": "kill",
    "GpuLayers": 0,
    "Device": "CUDA0",
    "CudaBinPath": "C:\\llama.cpp.13.1;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v12.4\\bin"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "AudioCraft": {
    "ForceCpu": false
  },
  "AudioMix": {
    "MusicVolume": 3,
    "BackgroundSoundsVolume": 3,
    "FxSourdsVolume": 6,
    "VoiceVolume": 7
  },
  "Debug": {
    "EnableOutboundGeneration": false
  },
  "OpenAI": {
    "endpoint": "https://api.openai.com/v1/responses",
    "NoTemperatureModels": [
      "gpt-5-nano",
      "gpt-4.1-nano",
      "gpt-5-mini",
      "gpt-4.1-mini"
    ],
    "NoRepeatLastNModels": [
      "gpt-5-nano",
      "gpt-4.1-nano",
      "gpt-5-mini",
      "gpt-4.1-mini"
    ],
    "NoNumPredictModels": [
      "gpt-5-nano",
      "gpt-4.1-nano",
      "gpt-5-mini",
      "gpt-4.1-mini"
    ],
    "NoRepeatPenaltyModels": [
      "gpt-5-nano",
      "gpt-4.1-nano",
      "gpt-5-mini",
      "gpt-4.1-mini"
    ],
    "NoTopPModels": [
      "gpt-5-nano",
      "gpt-4.1-nano",
      "gpt-5-mini",
      "gpt-4.1-mini"
    ],
    "NoFrequencyPenaltyModels": [
      "gpt-5-nano",
      "gpt-4.1-nano",
      "gpt-5-mini",
      "gpt-4.1-mini"
    ],
    "NoMaxTokensModels": [
      "gpt-5-nano",
      "gpt-4.1-nano",
      "gpt-5-mini",
      "gpt-4.1-mini"
    ],
    "NoTopKModels": [
      "gpt-5-nano",
      "gpt-4.1-nano",
      "gpt-5-mini",
      "gpt-4.1-mini"
    ]
  },
  "Ollama": {
    "endpoint": "http://localhost:11434"
  },
  "Memory": {
    "Embeddings": {
      "Model": "nomic-embed-text:latest",
      "BackfillBatchSize": 4,
      "RequestTimeoutSeconds": 120,
      "EmbeddingDimension": 768,
      "SqliteVecExtensionPath": ""
    }
  },
  "AppLog": {
    "LogRequestResponse": true,
    "OtherLogs": false,
    "LogToolResponses": false
  },
  "CommandDispatcher": {
    "MaxParallelCommands": 1
  },
  "TtsSchemaGeneration": {
    "PhraseGapSeconds": 2,
    "AutolaunchNextCommand": true,
    "CharacterExtractionMaxAttempts": 3
  },
  "CommandTuning": {
    "AmbientExpert": {
      "AutolaunchNextCommand": true,
      "MinTokensPerChunk": 1000,
      "MaxTokensPerChunk": 2000,
      "TargetTokensPerChunk": 1500,
      "OverlapTokens": 150,
      "MaxAttemptsPerChunk": 4,
      "MinAmbientTagsPerChunkRequirement": 2,
      "DiagnoseOnFinalFailure": true,
      "RetryDelayBaseSeconds": 2
    },
    "FxExpert": {
      "AutolaunchNextCommand": true,
      "DefaultTargetTokensPerChunk": 900,
      "DefaultMaxTokensPerChunk": 1400,
      "MaxAttemptsPerChunk": 4,
      "MinFxTagsPerChunk": 1,
      "DiagnoseOnFinalFailure": true,
      "RetryDelayBaseSeconds": 2
    },
    "MusicExpert": {
      "AutolaunchNextCommand": true,
      "MinTokensPerChunk": 1000,
      "MaxTokensPerChunk": 2000,
      "TargetTokensPerChunk": 1500,
      "OverlapTokens": 150,
      "MaxAttemptsPerChunk": 4,
      "MaxMusicTagsPerChunkRequirement": 3,
      "MinMusicTagsPerChunkRequirement": 1,
      "DiagnoseOnFinalFailure": true,
      "RetryDelayBaseSeconds": 2
    },
    "TransformStoryRawToTagged": {
      "AutolaunchNextCommand": true,
      "MinTokensPerChunk": 1000,
      "MaxTokensPerChunk": 2000,
      "TargetTokensPerChunk": 1500,
      "OverlapTokens": 150,
      "MaxAttemptsPerChunk": 4,
      "FormatterV2CorrectionRetries": 3,
      "MaxOverlapChars": 8000,
      "MinTagsPerChunkRequirement": 3,
      "RetryDelayBaseSeconds": 2
    },
    "GenerateNextChunk": {
      "ContextTailChars": 800,
      "MaxAttempts": 4
    },
    "PlannedStory": {
      "BeatMaxRetries": 4,
      "MinBeatLengthChars": 500,
      "RetryDelayMilliseconds": 1000
    },
    "FullStoryPipeline": {
      "AudioPipelineTotalSteps": 9
    }
  },
  "StoryTaggingPipeline": {
    "TaggedVoice": {
      "AutolaunchNextCommand": true,
      "EnableDialogTagCheck": true,
      "EnableEmotionTagCheck": true,
      "MinDistinctCharacters": 2
    },
    "TaggedAmbient": {
      "AutolaunchNextCommand": true,
      "EnableAmbientTagCheck": true,
      "MinAmbientTagDensity": 0.05
    },
    "TaggedFx": {
      "AutolaunchNextCommand": true,
      "EnableFxTagCheck": true,
      "MinFxTagCount": 3
    },
    "Tagged": {
      "AutolaunchNextCommand": true,
      "EnableMusicTagCheck": true,
      "MinMusicTagCount": 1
    }
  },
  "StateDrivenStoryGeneration": {
    "EnableDegenerativePunctuationCheck": true,
    "MaxDegenerativePunctuationMatches": 2,
    "EnableDialogueLoopCheck": true,
    "EnableEmotionalLoopCheck": true,
    "EnableActionPresenceCheck": true,
    "EnableSimilarSentenceRepetitionCheck": true,
    "SimilarSentenceSimilarityThreshold": 0.8,
    "SimilarSentenceRepeatLimit": 2,
    "EnableParagraphActionGapCheck": true,
    "ParagraphActionGapThreshold": 2,
    "EnableHistoricalLoopDetection": true,
    "HistoricalLoopSimilarityThreshold": 0.85,
    "HistoricalLoopRepeatThreshold": 6,
    "HistoricalLoopRepeatRatioThreshold": 0.5,
    "HistoricalLoopHistorySentenceCount": 5
  },
  "NarratorVoice": {
    "DefaultVoiceId": "Dionisio Schuyler"
  },
  "AudioGeneration": {
    "Tts": {
      "AutolaunchNextCommand": true
    },
    "Ambience": {
      "AutolaunchNextCommand": true
    },
    "Fx": {
      "AutolaunchNextCommand": true
    }
  },
  "AutomaticOperations": {
    "Enabled": true,
    "IdleSeconds": 10,
    "ReviseAndEvaluate": {
      "Enabled": true,
      "Priority": 1
    },
    "EvaluateRevised": {
      "Enabled": true,
      "Priority": 2,
      "AutolaunchNextCommand": true,
      "AutolaunchEvaluationLimit": 60,
      "AutolaunchTtsSchemaAfterTagged": true,
      "AutolaunchTtsSchemaThreshold": 70
    },
    "AutoDeleteLowRated": {
      "Enabled": false,
      "Priority": 3,
      "MinAverageScore": 50,
      "MinEvaluations": 2
    },
    "UpdateModelStats": {
      "Enabled": true,
      "Priority": 5
    },
    "AutoFinalMixPipeline": {
      "Enabled": true,
      "Priority": 7
    },
    "AutoCompleteAudioPipeline": {
      "Enabled": true,
      "Priority": 8
    },
    "AutoStateDrivenSeriesEpisode": {
      "Enabled": true,
      "Priority": 7,
      "IntervalMinutes": 20,
      "TargetMinutes": 20,
      "WordsPerMinute": 150,
      "WriterAgentId": 52
    }
  }
}
